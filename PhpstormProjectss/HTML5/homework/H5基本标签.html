<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册页面</title>
    <style>
        table {
            width: 960px;
            margin: 0px auto;
            border-spacing: 0px 10px;
        }

        th {
            text-align: left;
            padding-left: 50px;
            color: white;
            background-color: rgba(10, 10, 250, 0.4);
            border: 1px solid black;
        }

        #regist {
            color: white;
            background-color: orangered;
            border: 0px;
            box-shadow: 2px 2px yellow;
        }

        #back {
            color: white;
            background-color: darkgray;
            border: 0px;
            box-shadow: 2px 2px blue;
        }
    </style>
    <script>
        function $(id) {
            return document.getElementById(id);
        }

        function initial() {
            $("regist").addEventListener("click", reg, false);
            $("txtName").addEventListener("blur", check_name, false);
            $("txtPwd").addEventListener("blur", check_pwd, false);
            $("txtEmail").addEventListener("blur",check_email,false)
        }

        function check_email(){
            var ret = $("txtEmail").validity.valid;
            if(ret){
                $("txtEmailTip").innerHTML="通过";
            }else{
                if($("txtEmail").validity.valueMissing){
                    $("txtEmailTip").innerHTML="请输入邮箱";
                }else if($("txtEmail").validity.typeMismatch){
                    $("txtEmailTip").innerHTML="格式不正确";
                }else if($("txtEmail").validity.patternMismatch){
                    $("txtEmailTip").innerHTML="请务必输入你最常用的电子邮件地址，将在找回密码时使用（可写多个，用,分割）";
                }
            }
        }

        function check_pwd() {
            var ret = $("txtPwd").checkValidity();
            if (ret) {
                $("txtPwdTip").removeAttribute("style");
                $("txtPwdTip").innerHTML = "通过";
            } else {
                $("txtPwdTip").setAttribute("style", "border:1px solid red");
//                $("txtPwdTip").style.border="1px solid red";
                $("txtPwdTip").innerHTML = "密码由6-16个字符组成，请使用英文字母加数字或符号的组合密码";
            }
        }

        /*   function check_name(){
                 var ret = $("txtName").checkValidity();
     //            alert(ret);
                 if(ret){
                     $("txtNameTip").removeAttribute("style");
                     $("txtNameTip").innerHTML="通过";
                 }else{
                     $("txtNameTip").style.border="1px solid red";
                     $("txtNameTip").innerHTML="登陆网站时使用的用户名，只能字母，数字和下划线，长度为5-16个字符";
                 }
             }*/
        function check_name() {
            var ret = txtName.validity.valid;
            if (ret) {
                $("txtNameTip").removeAttribute("style");
                $("txtNameTip").innerHTML = "通过";
            } else {
                if ($("txtName").validity.patternMismatch) {
                    $("txtNameTip").style.border = "1px solid red";
                    $("txtNameTip").innerHTML = "<img src='../source/reg3.gif'>" + "登陆网站时使用的用户名，只能字母，数字和下划线，长度为5-16个字符";
                }else if($("txtName").validity.valueMissing){
                    $("txtNameTip").style.border = "1px solid red";
                    $("txtNameTip").innerHTML ="请输入值";
                }else if($("txtName").validity.typeMismatch){
                    $("txtNameTip").innerHTML ="格式不正确";
                }
            }
        }

        function reg() {
            if ($("txtPad").value != $("txtPad2").value) {
                alert("密码不一致")
                return false;
            }
        }

        window.addEventListener("load", initial, false);
    </script>
</head>
<body>
<form>
    <table>
        <tr>
            <th colspan="3">基本信息（以下为必填项目）</th>
        </tr>
        <tr>
            <td>用户名</td>
            <td><input type="text" name="txtName" id="txtName" pattern="^[A-Za-z0-9@#]{6,16}$" placeholder="请输入用户名"
                       required/></td>
            <td><span id="txtNameTip">登陆网站时使用的用户名，只能字母，数字和下划线，长度为5-16个字符</span></td>
        </tr>
        <tr>
            <td>密码</td>
            <td><input type="password" name="txtPwd" id="txtPwd" pattern="([A-Za-z]|[0-9]|-|_){4,16}" required></td>
            <td><span id="txtPwdTip">密码由6-16个字符组成，请使用英文字母加数字或符号的组合密码</span></td>
        </tr>
        <tr>
            <td>验证密码</td>
            <td><input type="password" name="txtPwd2" id="txtPwd2" required></td>
            <td>必须和上面密码保持一致</td>
        </tr>
        <tr>
            <td>Email地址</td>
            <td><input type="email" id="txtEmail" name="txtEmail" multiple required></td>
            <td><span id="txtEmailTip">请务必输入你最常用的电子邮件地址，将在找回密码时使用（可写多个，用,分割）</span></td>
        </tr>
        <tr>
            <td>单位名称</td>
            <td><input type="search" name="txtSearch" id="txtSearch"></td>
            <td>如：北京达内</td>
        </tr>
        <tr>
            <td>校验码</td>
            <td><input type="text" name="yzm" id="yzm"><img src="" alt=""></td>
            <td>请输入右侧字符，看不清楚请点击图片更换字符</td>
        </tr>
        <tr>
            <th colspan="3">填写人信息（以下为非必填项目）</th>
        </tr>
        <tr>
            <td>姓名</td>
            <td><input type="text" name="name" id="name" placeholder="请输入名字"/></td>
            <td>请输入你的真实姓名</td>
        </tr>
        <tr>
            <td>联系电话</td>
            <td><input type="text" name="phone" id="phone" pattern="13[0-9]\d{8}"></td>
            <td>请输入你的移动电话</td>
        </tr>
        <tr>
            <td>生日</td>
            <td><input type="date" name="birthday" id="birthday"></td>
            <td>请选择你的生日</td>
        </tr>
        <tr>
            <td>QQ</td>
            <td><input type="text" id="qq" name="qq"></td>
            <td>请输入你的QQ号码</td>
        </tr>
        <tr>
            <td colspan="3" align="center"><input type="submit" id="regist" name="regist" value="注册">
                <input type="button" id="back" name="back" value="返回"></td>


        </tr>
    </table>
</form>
</body>
</html>